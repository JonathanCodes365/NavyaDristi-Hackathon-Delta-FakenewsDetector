<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Fake News Verifier</title>
<style>
body { 
    font-family: Arial; 
    background: #f4f4f4; 
    display: flex; 
    justify-content: center; 
    padding: 50px 20px; 
    margin: 0; 
}
.container { 
    width: 700px; 
    background: #fff; 
    padding: 30px; 
    border-radius: 10px; 
    box-shadow: 0 5px 15px rgba(0,0,0,0.1); 
}
.input-area, .additional-info { 
    display: flex; 
    gap: 10px; 
    margin-bottom: 15px; 
}
input[type="text"], textarea { 
    flex: 1; 
    padding: 12px; 
    font-size: 16px; 
    border-radius: 5px; 
    border: 1px solid #ccc; 
}
textarea { 
    resize: vertical; 
    min-height: 50px; 
}
button { 
    background-color: #FFA500; 
    border: none; 
    color: black; 
    font-size: 16px; 
    font-weight: bold; 
    padding: 12px 20px; 
    border-radius: 5px; 
    cursor: pointer; 
    transition: background 0.3s; 
}
button:hover { 
    background-color: #e69500; 
}
.result-area { 
    margin-top: 20px; 
    font-size: 24px; 
    font-weight: bold; 
    text-align: center; 
    padding: 15px; 
    border-radius: 8px; 
    min-height: 50px; 
}
.red { 
    background-color: #f8d7da; 
    color: #dc3545; 
}
.green { 
    background-color: #d4edda; 
    color: #28a745; 
}
</style>
</head>
<body>

<div class="container">
    <div class="input-area">
        <input type="text" id="claimInput" placeholder="Enter your claim here...">
        <button id="verifyBtn">Verify</button>
    </div>

    <div class="additional-info">
        <textarea id="additionalInfo" placeholder="Additional info (optional)..."></textarea>
    </div>

    <div class="result-area" id="resultArea"></div>
</div>

<script>
document.getElementById('verifyBtn').addEventListener('click', async function() {
    const claim = document.getElementById('claimInput').value.trim();
    const info = document.getElementById('additionalInfo').value.trim();
    const resultArea = document.getElementById('resultArea');

    if (!claim) {
        resultArea.innerHTML = "<span class='red'>Please enter a claim!</span>";
        return;
    }

    resultArea.innerHTML = "Verifying...";

    try {
        const response = await fetch("http://127.0.0.1:5000/verify", {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify({ claim: claim, additional_info: info })
        });

        const data = await response.json();

        if (data.error) {
            resultArea.innerHTML = "<span class='red'>Error: " + data.error + "</span>";
        } else {
            const colorClass = data.result === "Real" ? "green" : "red";
            resultArea.innerHTML = `<span class="${colorClass}">${data.result}</span>`;
        }

    } catch (err) {
        console.error(err);
        resultArea.innerHTML = "<span class='red'>Error connecting to backend.</span>";
    }
});

// Allow pressing ENTER key to verify
document.getElementById('claimInput').addEventListener('keypress', function(e) {
    if (e.key === 'Enter') {
        document.getElementById('verifyBtn').click();
    }
});
</script>

</body>
</html>
