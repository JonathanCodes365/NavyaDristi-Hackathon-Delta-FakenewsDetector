<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>NewsLens</title>

<!-- Step 2: Modern font -->
<link rel = "stylesheet" href = "style.css">
</head>
<body>

<!-- ===== Step 4: Welcome overlay ===== -->
<div id="welcome-overlay">
    <div id="welcome-card">
        <img src="logo.png" alt="NewsLens Logo">
        <h1>Hey Player! You’re back</h1>
        <p>Welcome to <strong>NewsLens</strong>!</p>
        <button onclick="enterSite()">Yeah, I’m back</button>
    </div>
</div>


   <!-- ===== Step 2: Tutorial Overlay ===== -->
<div id="tutorial-overlay">
    <div id="tutorial-card">
        <!-- Step 1 -->
        <div class="step active" data-step="1">
            <h2>Welcome to NewsLens!</h2>
            <p>This tutorial will guide you through the app’s features.</p>
        </div>
        <!-- Step 2 -->
        <div class="step" data-step="2">
            <h2>Enter Your Claim</h2>
            <p>Type any news claim in the input box to start verification.</p>
        </div>
        <!-- Step 3 -->
        <div class="step" data-step="3">
            <h2>Check Results</h2>
            <p>Your claim will be analyzed and displayed as Real or Fake.</p>
        </div>
        <!-- Step 4 -->
        <div class="step" data-step="4">
            <h2>History</h2>
            <p>All past claims are saved here for your reference.</p>
        </div>

        <!-- Navigation Buttons -->
        <div class="tutorial-buttons">
            <button id="backBtn">Back</button>
            <button id="nextBtn">Next</button>
            <button id="skipBtn">Skip Tutorial</button>
        </div>
    </div>
</div>

<!-- ===== Step 1 & 3: Main News Verifier content ===== -->
<div class="container" id="main-content">
    <div class="input-area">
        <input type="text" id="claimInput" placeholder="Enter your claim here...">
        <button id="verifyBtn">Verify</button>
    </div>
    ...
</div>

    <div class="additional-info">
        <textarea id="additionalInfo" placeholder="Additional info (optional)..."></textarea>
    </div>

    <div class="result-area" id="resultArea"></div>

    <!-- Loading indicator -->
    <div id="loading" style="display:none; text-align:center; margin-top:15px; font-size:16px; color:#555;">
        ⏳ Verifying...
    </div>

    <!-- Step 3: History list -->
    <div id="history-container" style="margin-top:20px;">
        <h3 style="font-size:18px; color:#333;">Past Claims</h3>
        <ul id="history" style="list-style-type:none; padding-left:0;"></ul>
    </div>
</div>

<script>
/* ===== Step 4: Welcome overlay logic ===== */
// Step 1: Detect if user is first-time
window.addEventListener("DOMContentLoaded", () => {
    const tutorialCompleted = localStorage.getItem("tutorialCompleted");

    if (!tutorialCompleted) {
        // First-time user: hide main content
        document.getElementById('main-content').style.display = 'none';
        // We'll show tutorial overlay in Step 2
        console.log("First-time user detected");
    } else {
        // Returning user: show main content immediately
        document.getElementById('main-content').style.display = 'block';
    }
});

function enterSite() {
    document.getElementById('welcome-overlay').style.display = 'none';
    document.getElementById('main-content').style.display = 'block';
}

/* ===== Step 5: Result fade-in logic ===== */
const resultArea = document.getElementById('resultArea');

function showResult(result) {
    resultArea.classList.remove('show'); // reset fade
    setTimeout(() => {
        resultArea.innerHTML = `<span class="${result === 'Real' ? 'green' : 'red'}">${result}</span>`;
        resultArea.classList.add('show');
    }, 50);
}

/* ===== Demo Verify button logic ===== */
document.getElementById('verifyBtn').addEventListener('click', async function() {
    const claim = document.getElementById('claimInput').value.trim();
    if (!claim) return;
    // Normally call your backend API here
    const verdict = Math.random() > 0.5 ? 'Real' : 'Fake'; // demo
    showResult(verdict);
});
</script>

</body>
</html>
